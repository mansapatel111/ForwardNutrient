<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NutrientForward</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Agrandir:wght@400;700&display=swap');

        body {
            font-family: 'Agrandir', sans-serif;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            background-image: url('static/images/NextNutrForward.png');
            background-size: cover;
            background-repeat: no-repeat;
            background-position: center;
            color: #abd7ff;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }


        .hidden {
            display: none;
        }

        #page0,
        #page1,
        #page2,
        #page3,
        #page4 {
            text-align: center;
        }


        #page0 {
            cursor: pointer;
        }

        #page0 h1 {
            font-size: 67px;
            margin: 0;
        }


        .centered-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        select,
        button {
            padding: 10px 20px;
            font-size: 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        select {
            background-color: rgba(255, 255, 255, 0.9);
            color: #203162;
        }

        button {
            padding: 10px 20px;
            font-size: 16px;
            font-style: bold;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            background-color: #007BFF;
            color: #abd7ff;
            width: 150px;
            text-align: center;
        }

        button:hover {
            background-color: #0056b3;
        }

        h2 {
            font-size: 48px;
            margin-bottom: 20px;
        }
    </style>
</head>

<body>
    <!-- First Page: Title in the Center -->
    <div id="page0" onclick="goToPage(1)">
        <h1>Nutrient Forward</h1>
    </div>

    <!-- Page 1: Select a Restaurant -->
    <div id="page1" class="hidden">
        <div class="centered-content">
            <h2>Choose a restaurant </h2>
            <select id="restaurant">
                <option value="">Select a Restaurant</option>
                <option value="Applebee's">Applebee's</option>
                <option value="Arby's">Arby's</option>
                <option value="Auntie Anne's">Auntie Anne's</option>
                <option value="Baskin Robbins">Baskin Robbins</option>
                <option value="BJ's Restaurant & Brewhouse">BJ's Restaurant & Brewhouse</option>
                <option value="Bob Evans">Bob Evans</option>
                <option value="Bojangles">Bojangles</option>
                <option value="Bonefish Grill">Bonefish Grill</option>
                <option value="Buffalo Wild Wings">Buffalo Wild Wings</option>
                <option value="California Pizza Kitchen">California Pizza Kitchen</option>
                <option value="Captain D's">Captain D's</option>
                <option value="Carrabba's Italian Grill">Carrabba's Italian Grill</option>
                <option value="Checker's Drive-In/ Rally's">Checker's Drive-In/ Rally's</option>
                <option value="Cheddar's Casual Café / Cheddar's Scratch Kitchens">Cheddar's Casual Café / Cheddar's
                    Scratch Kitchen</option>
                <option value="Chick Fil A">Chick Fil A</option>
                <option value="Chili's">Chili's</option>
                <option value="Chipotle">Chipotle</option>
                <option value="Chuck E. Cheese">Chuck E. Cheese</option>
                <option value="Cracker Barrel">Cracker Barrel</option>
                <option value="Culver's">Culver's</option>
                <option value="Dairy Queen">Dairy Queen</option>
                <option value="Denny's">Denny's</option>
                <option value="Domino's">Domino's</option>
                <option value="Dunkin' Donuts">Dunkin' Donuts</option>
                <option value="El Pollo Loco">El Pollo Loco</option>
                <option value="Firehouse Subs">Firehouse Subs</option>
                <option value="Hardee's">Hardee's</option>
                <option value="Hooter's">Hooter's</option>
                <option value="IHOP">IHOP</option>
                <option value="In-N-Out">In-N-Out</option>
                <option value="Jack in the Box">Jack in the Box</option>
                <option value="Jamba Juice">Jamba Juice</option>
                <option value="KFC">KFC</option>
                <option value="Krispy Kreme">Krispy Kreme</option>
                <option value="Little Caesar's">Little Caesar's</option>
                <option value="McDonald's">McDonald's</option>
                <option value="Olive Garden">Olive Garden</option>
                <option value="Outback Steakhouse">Outback Steakhouse</option>
                <option value="Panda Express">Panda Express</option>
                <option value="Panera Bread">Panera Bread</option>
                <option value="Papa John's">Papa John's</option>
                <option value="PF Chang's">PF Chang's</option>
                <option value="Pizza Hut">Pizza Hut</option>
                <option value="Popeyes">Popeyes</option>
                <option value="Qdoba">Qdoba</option>
                <option value="Raising Cane's Chicken Fingers">Raising Cane's Chicken Fingers</option>
                <option value="Red Lobster">Red Lobster</option>
                <option value="Red Robin">Red Robin</option>
                <option value="Shake Shack">Shake Shack</option>
                <option value="Sonic">Sonic</option>
                <option value="Starbucks">Starbucks</option>
                <option value="Taco Bell">Taco Bell</option>
                <option value="The Cheesecake Factory">The Cheesecake Factory</option>
                <option value="Starbucks">Starbucks</option>


                <option value="Qdoba">Qdoba</option>
            </select>
            <button onclick="goToPage(2)">Next</button>
        </div>
    </div>

    <!-- Page 2: Select a Food Category -->
    <div id="page2" class="hidden">
        <div class="centered-content">
            <h2>Choose a Food Category</h2>
            <button onclick="setCategory('Appetizers & Sides')">Appetizers</button>
            <button onclick="setCategory('Entrees')">Entrees</button>
            <button onclick="setCategory('Salads')">Salads</button>
            <button onclick="setCategory('Sandwiches')">Sandwiches</button>
            <button onclick="setCategory('Soup')">Soups</button>
            <button onclick="setCategory('Fried Potatoes')">Fries</button>
            <button onclick="setCategory('Burgers')">Burgers</button>
            <button onclick="setCategory('Pizza')">Pizza</button>
            <button onclick="setCategory('Desserts')">Desserts</button>
            <button onclick="setCategory('Baked Goods')">Baked Goods</button>
            <button onclick="setCategory('Beverages')">Beverages</button>
        </div>
    </div>

    <!-- Page 3: Sorting Options -->
    <div id="page3" class="hidden">
        <div class="centered-content">
            <h2>What's Important To You ?</h2>
            <button onclick="setCriteria('calories')">Calories</button>
            <button onclick="setCriteria('protein')">Protein</button>
            <button onclick="setCriteria('Fat')">Fat</button>
            <button onclick="setCriteria('cholestrol')">Cholestrol</button>
            <button onclick="setCriteria('sodium')">Sodium</button>
            <button onclick="setCriteria('carbohydrates')">Carbs</button>
            <button onclick="setCriteria('Fiber')">Fiber</button>
            <button onclick="setCriteria('Sugar')">Sugar</button>
            <button onclick="setCriteria('Protein')">Protein</button>
        </div>
    </div>
    <!-- Page 4: Choose Your Level -->
    <div id="page4" class="hidden">
        <div class="centered-content">
            <h2>Choose your level:</h2>
            <div style="display: flex; gap: 20px; justify-content: center;">
                <button onclick="setLevel('High')">High (&gt;30g)</button>
                <button onclick="setLevel('Medium')">Medium (15 - 30g)</button>
                <button onclick="setLevel('Low')">Low (&lt;15g)</button>
            </div>
        </div>
    </div>

    <!-- Page 5: Display Results -->
    <div id="page5" class="hidden">
        <div class="centered-content">
            <h2>Results</h2>
            <table>
                <thead>
                    <tr>
                        <th>Food Item</th>
                        <th>Category</th>
                        <th>Calories</th>
                        <th>Protein (g)</th>
                        <th>Fat (g)</th>
                    </tr>
                </thead>
                <tbody id="resultsTable">
                    <!-- Data should shoulf hopefully be dynamically inserted here -->
                </tbody>
            </table>
            <button onclick="goToPage(1)">Start Over</button>
        </div>
    </div>











    <script>
        let selectedRestaurant = '';
        let selectedCategory = '';
        let selectedCriteria = ''; // e.g., Calories, Protein
        let selectedLevel = ''; // e.g., High, Medium, Low

        // Function to navigate between pages
        function goToPage(pageNumber) {
            // Hide all pages
            document.querySelectorAll('div[id^="page"]').forEach(page => {
                page.classList.add('hidden');
            });

            // Show the target page
            document.getElementById(`page${pageNumber}`).classList.remove('hidden');
        }

        // Function to set the selected category (From Page 2)
        function setCategory(category) {
            selectedCategory = category; // Set the chosen category
            console.log(`Selected Category: ${category}`);
            goToPage(3); // Navigate to Page 3 (Criteria Selection)
        }

        // Function to set the selected criteria (From Page 3)
        function setCriteria(criteria) {
            selectedCriteria = criteria; // Set the chosen criteria 
            console.log(`Selected Criteria: ${criteria}`);
            goToPage(4); // Navigate to Page 4 (Choose Level)
        }

        // Function to handle level selection (From Page 4)
        function setLevel(level) {
            selectedLevel = level; // Set the chosen level 
            console.log(`Selected Level: ${level} for ${selectedCriteria}`);
            goToPage(5); // Navigate to the Results Page
        }

        // Function to fetch and display sorted data (Optional for Results Page)
        async function fetchSortedData(column, algorithm) {
            try {
                const response = await fetch(`/sort?column=${column}&algorithm=${algorithm}`);
                const sortedData = await response.json();
                displayResults(sortedData);
                goToPage(5);
            } catch (error) {
                console.error('Error fetching data:', error);
            }
        }

        // Function to display results in the table (For Page 5)
        function displayResults(data) {
            const tbody = document.getElementById('resultsTable');
            tbody.innerHTML = '';

            data.forEach(item => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${item.foodName}</td>
                    <td>${item.category}</td>
                    <td>${item.calories}</td>
                    <td>${item.protein}</td>
                    <td>${item.fat}</td>
                `;
                tbody.appendChild(row);
            });
        }

    </script>
</body>

</html>